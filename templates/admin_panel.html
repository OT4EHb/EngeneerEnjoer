<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üçΩÔ∏è –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å - –†–µ—Å—Ç–æ—Ä–∞–Ω "–í–∫—É—Å–Ω—ã–π —É–≥–æ–ª–æ–∫"</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #2c3e50;
            --success-color: #27ae60;
            --danger-color: #e74c3c;
            --warning-color: #f39c12;
            --light-color: #ecf0f1;
            --dark-color: #34495e;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
        }

        .sidebar {
            background: var(--secondary-color);
            color: white;
            min-height: 100vh;
            padding: 0;
            position: fixed;
            width: 250px;
            box-shadow: 3px 0 10px rgba(0,0,0,0.1);
        }

        .sidebar-header {
            padding: 20px;
            text-align: center;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .sidebar-header h3 {
            color: var(--primary-color);
            margin: 0;
        }

        .sidebar-nav {
            padding: 20px 0;
        }

        .nav-item {
            padding: 12px 20px;
            color: rgba(255,255,255,0.8);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s;
            cursor: pointer;
        }

        .nav-item:hover {
            background: rgba(255,255,255,0.1);
            color: white;
            padding-left: 25px;
        }

        .nav-item.active {
            background: var(--primary-color);
            color: white;
            border-left: 4px solid white;
        }

        .main-content {
            margin-left: 250px;
            padding: 20px;
        }

        .navbar {
            background: white;
            padding: 15px 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .stats-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-top: 4px solid var(--primary-color);
        }

        .stat-card h5 {
            color: var(--secondary-color);
            margin-bottom: 10px;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary-color);
        }

        .section-card {
            background: white;
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--light-color);
        }

        .section-header h3 {
            color: var(--secondary-color);
            margin: 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .btn-custom {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--primary-color);
            color: white;
        }

        .btn-success {
            background: var(--success-color);
            color: white;
        }

        .btn-danger {
            background: var(--danger-color);
            color: white;
        }

        .btn-custom:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .table-responsive {
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .table th {
            background: var(--light-color);
            color: var(--secondary-color);
            font-weight: 600;
            border: none;
            padding: 15px;
        }

        .table td {
            padding: 15px;
            vertical-align: middle;
        }

        .status-badge {
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .status-available {
            background: #d4edda;
            color: #155724;
        }

        .status-unavailable {
            background: #f8d7da;
            color: #721c24;
        }

        .action-buttons {
            display: flex;
            gap: 8px;
        }

        .btn-sm {
            padding: 5px 10px;
            font-size: 0.8rem;
        }

        .modal-content {
            border-radius: 15px;
            border: none;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .modal-header {
            background: var(--secondary-color);
            color: white;
            border-radius: 15px 15px 0 0;
        }

        .chart-container {
            position: relative;
            height: 300px;
            margin: 20px 0;
        }

        .form-control:focus, .form-select:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 0.25rem rgba(52, 152, 219, 0.25);
        }

        .back-to-site {
            margin-top: 20px;
            text-align: center;
        }

        .back-to-site a {
            color: var(--primary-color);
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .back-to-site a:hover {
            text-decoration: underline;
        }

        @media (max-width: 768px) {
            .sidebar {
                width: 100%;
                position: relative;
                min-height: auto;
            }
            
            .main-content {
                margin-left: 0;
            }
        }
    </style>
</head>
<body>
    <div class="sidebar">
        <div class="sidebar-header">
            <h3><i class="fas fa-cog"></i> –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å</h3>
            <p class="mb-0" style="color: #bdc3c7; font-size: 0.9rem;">–†–µ—Å—Ç–æ—Ä–∞–Ω "–í–∫—É—Å–Ω—ã–π —É–≥–æ–ª–æ–∫"</p>
        </div>
        
        <div class="sidebar-nav">
            <div class="nav-item active" onclick="showSection('dashboard')">
                <i class="fas fa-tachometer-alt"></i> –î–∞—à–±–æ—Ä–¥
            </div>
            <div class="nav-item" onclick="showSection('menu')">
                <i class="fas fa-utensils"></i> –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ–Ω—é
            </div>
            <div class="nav-item" onclick="showSection('orders')">
                <i class="fas fa-shopping-cart"></i> –ó–∞–∫–∞–∑—ã
            </div>
            <div class="nav-item" onclick="showSection('reports')">
                <i class="fas fa-chart-bar"></i> –û—Ç—á–µ—Ç—ã
            </div>
            <div class="nav-item" onclick="showSection('settings')">
                <i class="fas fa-cogs"></i> –ù–∞—Å—Ç—Ä–æ–π–∫–∏
            </div>
        </div>

        <div class="back-to-site">
            <a href="/" target="_blank">
                <i class="fas fa-external-link-alt"></i> –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å–∞–π—Ç
            </a>
        </div>
    </div>

    <div class="main-content">
        <!-- Dashboard Section -->
        <div id="dashboard-section" class="section">
            <div class="navbar">
                <h2><i class="fas fa-tachometer-alt"></i> –î–∞—à–±–æ—Ä–¥</h2>
                <div id="current-time" style="color: var(--secondary-color);"></div>
            </div>

            <div class="stats-cards">
                <div class="stat-card">
                    <h5><i class="fas fa-utensils"></i> –í—Å–µ–≥–æ –±–ª—é–¥</h5>
                    <div class="stat-value" id="total-dishes">0</div>
                </div>
                <div class="stat-card">
                    <h5><i class="fas fa-shopping-cart"></i> –ó–∞–∫–∞–∑–æ–≤ —Å–µ–≥–æ–¥–Ω—è</h5>
                    <div class="stat-value" id="today-orders">0</div>
                </div>
                <div class="stat-card">
                    <h5><i class="fas fa-money-bill-wave"></i> –í—ã—Ä—É—á–∫–∞ —Å–µ–≥–æ–¥–Ω—è</h5>
                    <div class="stat-value" id="today-revenue">0 ‚ÇΩ</div>
                </div>
                <div class="stat-card">
                    <h5><i class="fas fa-star"></i> –†–µ–π—Ç–∏–Ω–≥</h5>
                    <div class="stat-value">4.8/5</div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-8">
                    <div class="section-card">
                        <div class="section-header">
                            <h3><i class="fas fa-chart-line"></i> –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–∫–∞–∑–æ–≤</h3>
                            <select class="form-select" style="width: auto;" id="chart-period">
                                <option value="7">7 –¥–Ω–µ–π</option>
                                <option value="30" selected>30 –¥–Ω–µ–π</option>
                                <option value="90">90 –¥–Ω–µ–π</option>
                            </select>
                        </div>
                        <div class="chart-container">
                            <canvas id="orders-chart"></canvas>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="section-card">
                        <div class="section-header">
                            <h3><i class="fas fa-fire"></i> –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –±–ª—é–¥–∞</h3>
                        </div>
                        <div id="popular-dishes">
                            <!-- Popular dishes will be loaded here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Menu Management Section -->
        <div id="menu-section" class="section" style="display: none;">
            <div class="navbar">
                <h2><i class="fas fa-utensils"></i> –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ–Ω—é</h2>
                <div>
                    <button class="btn-custom btn-primary" onclick="showAddCategoryModal()">
                        <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é
                    </button>
                    <button class="btn-custom btn-success" onclick="showAddDishModal()">
                        <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å –±–ª—é–¥–æ
                    </button>
                </div>
            </div>

            <div class="section-card">
                <div class="section-header">
                    <h3><i class="fas fa-list"></i> –ö–∞—Ç–µ–≥–æ—Ä–∏–∏</h3>
                </div>
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                                <th>–ö–æ–ª-–≤–æ –±–ª—é–¥</th>
                                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                            </tr>
                        </thead>
                        <tbody id="categories-table">
                            <!-- Categories will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="section-card">
                <div class="section-header">
                    <h3><i class="fas fa-hamburger"></i> –í—Å–µ –±–ª—é–¥–∞</h3>
                    <input type="text" class="form-control" style="width: 300px;" 
                           placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é..." id="dish-search">
                </div>
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                                <th>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>
                                <th>–¶–µ–Ω–∞</th>
                                <th>–°—Ç–∞—Ç—É—Å</th>
                                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                            </tr>
                        </thead>
                        <tbody id="dishes-table">
                            <!-- Dishes will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Orders Section -->
        <div id="orders-section" class="section" style="display: none;">
            <div class="navbar">
                <h2><i class="fas fa-shopping-cart"></i> –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏</h2>
                <div>
                    <select class="form-select" style="width: auto;" id="orders-filter">
                        <option value="">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
                        <option value="pending">–í –æ–∂–∏–¥–∞–Ω–∏–∏</option>
                        <option value="preparing">–ì–æ—Ç–æ–≤–∏—Ç—Å—è</option>
                        <option value="ready">–ì–æ—Ç–æ–≤</option>
                        <option value="completed">–ó–∞–≤–µ—Ä—à–µ–Ω</option>
                    </select>
                </div>
            </div>

            <div class="section-card">
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>–ù–æ–º–µ—Ä</th>
                                <th>–î–∞—Ç–∞</th>
                                <th>–ö–ª–∏–µ–Ω—Ç</th>
                                <th>–¢–µ–ª–µ—Ñ–æ–Ω</th>
                                <th>–°—É–º–º–∞</th>
                                <th>–°—Ç–∞—Ç—É—Å</th>
                                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                            </tr>
                        </thead>
                        <tbody id="orders-table">
                            <!-- Orders will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Reports Section -->
        <div id="reports-section" class="section" style="display: none;">
            <div class="navbar">
                <h2><i class="fas fa-chart-bar"></i> –û—Ç—á–µ—Ç—ã</h2>
                <div>
                    <button class="btn-custom btn-primary" onclick="generateReport()">
                        <i class="fas fa-download"></i> –≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á–µ—Ç–∞
                    </button>
                </div>
            </div>

            <div class="section-card">
                <div class="section-header">
                    <h3><i class="fas fa-calendar"></i> –ü–µ—Ä–∏–æ–¥ –æ—Ç—á–µ—Ç–∞</h3>
                </div>
                <div class="row mb-4">
                    <div class="col-md-3">
                        <label class="form-label">–ù–∞—á–∞–ª—å–Ω–∞—è –¥–∞—Ç–∞</label>
                        <input type="date" class="form-control" id="report-start-date">
                    </div>
                    <div class="col-md-3">
                        <label class="form-label">–ö–æ–Ω–µ—á–Ω–∞—è –¥–∞—Ç–∞</label>
                        <input type="date" class="form-control" id="report-end-date">
                    </div>
                    <div class="col-md-2 d-flex align-items-end">
                        <button class="btn-custom btn-primary w-100" onclick="loadReport()">
                            <i class="fas fa-chart-line"></i> –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å
                        </button>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-4">
                        <div class="stat-card">
                            <h5>–û–±—â–∞—è –≤—ã—Ä—É—á–∫–∞</h5>
                            <div class="stat-value" id="report-total-revenue">0 ‚ÇΩ</div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="stat-card">
                            <h5>–í—Å–µ–≥–æ –∑–∞–∫–∞–∑–æ–≤</h5>
                            <div class="stat-value" id="report-total-orders">0</div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="stat-card">
                            <h5>–°—Ä–µ–¥–Ω–∏–π —á–µ–∫</h5>
                            <div class="stat-value" id="report-avg-order">0 ‚ÇΩ</div>
                        </div>
                    </div>
                </div>

                <div class="row mt-4">
                    <div class="col-md-8">
                        <div class="chart-container">
                            <canvas id="revenue-chart"></canvas>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="chart-container">
                            <canvas id="categories-chart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Settings Section -->
        <div id="settings-section" class="section" style="display: none;">
            <div class="navbar">
                <h2><i class="fas fa-cogs"></i> –ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
            </div>

            <div class="section-card">
                <h4><i class="fas fa-restaurant"></i> –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞</h4>
                <form id="restaurant-settings">
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞</label>
                            <input type="text" class="form-control" value="–†–µ—Å—Ç–æ—Ä–∞–Ω '–í–∫—É—Å–Ω—ã–π —É–≥–æ–ª–æ–∫'">
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">–¢–µ–ª–µ—Ñ–æ–Ω –¥–ª—è –∑–∞–∫–∞–∑–æ–≤</label>
                            <input type="tel" class="form-control" value="+7 (999) 123-45-67">
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label class="form-label">–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã (–æ—Ç–∫—Ä—ã—Ç–∏–µ)</label>
                            <input type="time" class="form-control" value="10:00">
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã (–∑–∞–∫—Ä—ã—Ç–∏–µ)</label>
                            <input type="time" class="form-control" value="23:00">
                        </div>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –∑–∞–∫–∞–∑–∞</label>
                        <input type="number" class="form-control" value="500">
                    </div>
                    <button type="submit" class="btn-custom btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <div class="modal fade" id="addCategoryModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title"><i class="fas fa-folder-plus"></i> –ù–æ–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="add-category-form">
                        <div class="mb-3">
                            <label class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</label>
                            <input type="text" class="form-control" id="category-name" required>
                        </div>
                        <div class="d-flex justify-content-end gap-2">
                            <button type="button" class="btn-custom btn-secondary" data-bs-dismiss="modal">–û—Ç–º–µ–Ω–∞</button>
                            <button type="submit" class="btn-custom btn-primary">–°–æ–∑–¥–∞—Ç—å</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="addDishModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title"><i class="fas fa-hamburger"></i> –ù–æ–≤–æ–µ –±–ª—é–¥–æ</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="add-dish-form">
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ –±–ª—é–¥–∞</label>
                                <input type="text" class="form-control" id="dish-name" required>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                                <select class="form-select" id="dish-category" required>
                                    <!-- Categories will be loaded -->
                                </select>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label class="form-label">–¶–µ–Ω–∞ (‚ÇΩ)</label>
                                <input type="number" step="0.01" min="0" class="form-control" id="dish-price" required>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">–°—Ç–∞—Ç—É—Å</label>
                                <select class="form-select" id="dish-status">
                                    <option value="true">–î–æ—Å—Ç—É–ø–Ω–æ</option>
                                    <option value="false">–ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ</option>
                                </select>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                            <textarea class="form-control" id="dish-description" rows="3"></textarea>
                        </div>
                        <div class="d-flex justify-content-end gap-2">
                            <button type="button" class="btn-custom btn-secondary" data-bs-dismiss="modal">–û—Ç–º–µ–Ω–∞</button>
                            <button type="submit" class="btn-custom btn-primary">–°–æ–∑–¥–∞—Ç—å</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="editOrderModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title"><i class="fas fa-edit"></i> –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="edit-order-form">
                        <input type="hidden" id="edit-order-id">
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label class="form-label">–°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞</label>
                                <select class="form-select" id="edit-order-status">
                                    <option value="pending">–í –æ–∂–∏–¥–∞–Ω–∏–∏</option>
                                    <option value="preparing">–ì–æ—Ç–æ–≤–∏—Ç—Å—è</option>
                                    <option value="ready">–ì–æ—Ç–æ–≤</option>
                                    <option value="completed">–ó–∞–≤–µ—Ä—à–µ–Ω</option>
                                </select>
                            </div>
                        </div>
                        <div class="d-flex justify-content-end gap-2">
                            <button type="button" class="btn-custom btn-secondary" data-bs-dismiss="modal">–û—Ç–º–µ–Ω–∞</button>
                            <button type="submit" class="btn-custom btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let adminData = {
            categories: [],
            dishes: [],
            orders: [],
            reports: {}
        };

        let ordersChart = null;
        let revenueChart = null;
        let categoriesChart = null;

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', async () => {
            await loadAdminData();
            updateCurrentTime();
            setInterval(updateCurrentTime, 1000);
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
            const addCategoryModal = new bootstrap.Modal(document.getElementById('addCategoryModal'));
            const addDishModal = new bootstrap.Modal(document.getElementById('addDishModal'));
            const editOrderModal = new bootstrap.Modal(document.getElementById('editOrderModal'));
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–æ—Ä–º
            document.getElementById('add-category-form').addEventListener('submit', addCategory);
            document.getElementById('add-dish-form').addEventListener('submit', addDish);
            document.getElementById('edit-order-form').addEventListener('submit', updateOrder);
            document.getElementById('dish-search').addEventListener('input', filterDishes);
            document.getElementById('orders-filter').addEventListener('change', filterOrders);
            document.getElementById('chart-period').addEventListener('change', updateChart);
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –æ—Ç—á–µ—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π)
            const endDate = new Date();
            const startDate = new Date();
            startDate.setDate(startDate.getDate() - 30);
            
            document.getElementById('report-start-date').value = startDate.toISOString().split('T')[0];
            document.getElementById('report-end-date').value = endDate.toISOString().split('T')[0];
            
            loadReport();
        });

        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∞–¥–º–∏–Ω–∫–∏
        async function loadAdminData() {
            try {
                // –ó–∞–≥—Ä—É–∂–∞–µ–º –º–µ–Ω—é
                const menuResponse = await fetch('/api/v1/menu');
                const menuData = await menuResponse.json();
                adminData.categories = menuData.categories;
                adminData.dishes = menuData.dishes;
                
                // –ó–∞–≥—Ä—É–∂–∞–µ–º –∑–∞–∫–∞–∑—ã
                await loadOrders();
                
                // –û–±–Ω–æ–≤–ª—è–µ–º UI
                updateDashboardStats();
                renderCategoriesTable();
                renderDishesTable();
                renderOrdersTable();
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö:', error);
                showNotification('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö', 'error');
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–∫–∞–∑–æ–≤
        async function loadOrders() {
            try {
                const response = await fetch('/api/v1/orders?limit=100');
                adminData.orders = await response.json();
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–∫–∞–∑–æ–≤:', error);
            }
        }

        // –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Ä–∞–∑–¥–µ–ª–∞–º
        function showSection(sectionName) {
            // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —Ä–∞–∑–¥–µ–ª—ã
            document.querySelectorAll('.section').forEach(section => {
                section.style.display = 'none';
            });
            
            // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ä–∞–∑–¥–µ–ª
            document.getElementById(sectionName + '-section').style.display = 'block';
            
            // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É
            document.querySelector(`.nav-item[onclick="showSection('${sectionName}')"]`).classList.add('active');
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ä–∞–∑–¥–µ–ª–∞
            if (sectionName === 'dashboard') {
                updateDashboardStats();
            } else if (sectionName === 'reports') {
                loadReport();
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞—à–±–æ—Ä–¥–∞
        function updateDashboardStats() {
            // –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–ª—é–¥
            document.getElementById('total-dishes').textContent = adminData.dishes.length;
            
            // –ó–∞–∫–∞–∑—ã —Å–µ–≥–æ–¥–Ω—è
            const today = new Date().toISOString().split('T')[0];
            const todayOrders = adminData.orders.filter(order => 
                order.order_date.split('T')[0] === today
            );
            document.getElementById('today-orders').textContent = todayOrders.length;
            
            // –í—ã—Ä—É—á–∫–∞ —Å–µ–≥–æ–¥–Ω—è
            const todayRevenue = todayOrders.reduce((sum, order) => sum + order.total_amount, 0);
            document.getElementById('today-revenue').textContent = todayRevenue.toFixed(2) + ' ‚ÇΩ';
            
            // –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –±–ª—é–¥–∞
            renderPopularDishes();
        }

        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –±–ª—é–¥
        function renderPopularDishes() {
            const container = document.getElementById('popular-dishes');
            
            // –°—á–∏—Ç–∞–µ–º –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å (–ø—Ä–æ—Å—Ç–æ –¥–µ–º–æ)
            const popular = adminData.dishes.slice(0, 5);
            
            let html = '';
            popular.forEach((dish, index) => {
                html += `
                    <div class="d-flex justify-content-between align-items-center mb-2 p-2" 
                         style="background: #f8f9fa; border-radius: 5px;">
                        <div>
                            <strong>${dish.name}</strong>
                            <div class="text-muted" style="font-size: 0.8rem;">${dish.category?.name || '–ë–µ–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏'}</div>
                        </div>
                        <div class="text-end">
                            <div>${dish.price.toFixed(2)} ‚ÇΩ</div>
                            <div style="font-size: 0.8rem;">–†–µ–π—Ç–∏–Ω–≥: 4.${8 - index}</div>
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏
        function updateCurrentTime() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('ru-RU', {
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit'
            });
            const dateString = now.toLocaleDateString('ru-RU', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            
            document.getElementById('current-time').innerHTML = `
                <i class="fas fa-calendar"></i> ${dateString} 
                <i class="fas fa-clock ms-3"></i> ${timeString}
            `;
        }

        // –ö–∞—Ç–µ–≥–æ—Ä–∏–∏
        function renderCategoriesTable() {
            const container = document.getElementById('categories-table');
            
            let html = '';
            adminData.categories.forEach(category => {
                const dishCount = adminData.dishes.filter(dish => dish.category_id === category.id).length;
                
                html += `
                    <tr>
                        <td><code>${category.id}</code></td>
                        <td><strong>${category.name}</strong></td>
                        <td>${dishCount} –±–ª—é–¥</td>
                        <td>
                            <div class="action-buttons">
                                <button class="btn-custom btn-primary btn-sm" 
                                        onclick="editCategory('${category.id}')">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="btn-custom btn-danger btn-sm" 
                                        onclick="deleteCategory('${category.id}')">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </td>
                    </tr>
                `;
            });
            
            container.innerHTML = html;
        }

        // –ë–ª—é–¥–∞
        function renderDishesTable() {
            const container = document.getElementById('dishes-table');
            const searchQuery = document.getElementById('dish-search').value.toLowerCase();
            
            let filteredDishes = adminData.dishes;
            if (searchQuery) {
                filteredDishes = adminData.dishes.filter(dish => 
                    dish.name.toLowerCase().includes(searchQuery)
                );
            }
            
            let html = '';
            filteredDishes.forEach(dish => {
                const category = adminData.categories.find(c => c.id === dish.category_id);
                
                html += `
                    <tr>
                        <td>
                            <strong>${dish.name}</strong>
                            ${dish.description ? `<br><small class="text-muted">${dish.description}</small>` : ''}
                        </td>
                        <td>${category?.name || '–ë–µ–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏'}</td>
                        <td>${dish.price.toFixed(2)} ‚ÇΩ</td>
                        <td>
                            <span class="status-badge ${dish.is_available ? 'status-available' : 'status-unavailable'}">
                                ${dish.is_available ? '–î–æ—Å—Ç—É–ø–Ω–æ' : '–ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ'}
                            </span>
                        </td>
                        <td>
                            <div class="action-buttons">
                                <button class="btn-custom btn-primary btn-sm" 
                                        onclick="editDish('${dish.id}')">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="btn-custom btn-danger btn-sm" 
                                        onclick="deleteDish('${dish.id}')">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </td>
                    </tr>
                `;
            });
            
            container.innerHTML = html;
        }

        function filterDishes() {
            renderDishesTable();
        }

        // –ó–∞–∫–∞–∑—ã
        function renderOrdersTable() {
            const container = document.getElementById('orders-table');
            const filter = document.getElementById('orders-filter').value;
            
            let filteredOrders = adminData.orders;
            if (filter) {
                filteredOrders = adminData.orders.filter(order => order.status === filter);
            }
            
            let html = '';
            filteredOrders.forEach(order => {
                html += `
                    <tr>
                        <td><code>#${order.id.substring(0, 8)}</code></td>
                        <td>${new Date(order.order_date).toLocaleString('ru-RU')}</td>
                        <td>${order.customer_name || '–ì–æ—Å—Ç—å'}</td>
                        <td>${order.customer_phone || '–ù–µ —É–∫–∞–∑–∞–Ω'}</td>
                        <td>${order.total_amount.toFixed(2)} ‚ÇΩ</td>
                        <td>
                            <span class="status-badge" style="background: ${getStatusColor(order.status)}">
                                ${getStatusText(order.status)}
                            </span>
                        </td>
                        <td>
                            <div class="action-buttons">
                                <button class="btn-custom btn-primary btn-sm" 
                                        onclick="editOrder('${order.id}')">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="btn-custom btn-danger btn-sm" 
                                        onclick="deleteOrder('${order.id}')">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </td>
                    </tr>
                `;
            });
            
            container.innerHTML = html;
        }

        function filterOrders() {
            renderOrdersTable();
        }

        function getStatusColor(status) {
            const colors = {
                'pending': '#fff3cd',
                'preparing': '#cce5ff',
                'ready': '#d1ecf1',
                'completed': '#d4edda'
            };
            return colors[status] || '#f8f9fa';
        }

        function getStatusText(status) {
            const texts = {
                'pending': '–í –æ–∂–∏–¥–∞–Ω–∏–∏',
                'preparing': '–ì–æ—Ç–æ–≤–∏—Ç—Å—è',
                'ready': '–ì–æ—Ç–æ–≤',
                'completed': '–ó–∞–≤–µ—Ä—à–µ–Ω'
            };
            return texts[status] || status;
        }

        // –û—Ç—á–µ—Ç—ã
        async function loadReport() {
            const startDate = document.getElementById('report-start-date').value;
            const endDate = document.getElementById('report-end-date').value;
            
            try {
                const response = await fetch(`/api/v1/reports/sales?start_date=${startDate}&end_date=${endDate}`);
                const report = await response.json();
                
                adminData.reports = report;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
                document.getElementById('report-total-revenue').textContent = report.total_revenue.toFixed(2) + ' ‚ÇΩ';
                document.getElementById('report-total-orders').textContent = report.total_orders;
                document.getElementById('report-avg-order').textContent = report.average_order_value.toFixed(2) + ' ‚ÇΩ';
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –≥—Ä–∞—Ñ–∏–∫–∏
                updateRevenueChart();
                updateCategoriesChart();
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –æ—Ç—á–µ—Ç–∞:', error);
                showNotification('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –æ—Ç—á–µ—Ç–∞', 'error');
            }
        }

        function updateRevenueChart() {
            const ctx = document.getElementById('revenue-chart').getContext('2d');
            
            if (revenueChart) {
                revenueChart.destroy();
            }
            
            // –î–µ–º–æ –¥–∞–Ω–Ω—ã–µ
            const labels = ['–Ø–Ω–≤', '–§–µ–≤', '–ú–∞—Ä', '–ê–ø—Ä', '–ú–∞–π', '–ò—é–Ω'];
            const data = [12000, 15000, 18000, 14000, 20000, 22000];
            
            revenueChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: '–í—ã—Ä—É—á–∫–∞ (‚ÇΩ)',
                        data: data,
                        borderColor: '#3498db',
                        backgroundColor: 'rgba(52, 152, 219, 0.1)',
                        borderWidth: 2,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                        },
                        title: {
                            display: true,
                            text: '–î–∏–Ω–∞–º–∏–∫–∞ –≤—ã—Ä—É—á–∫–∏'
                        }
                    }
                }
            });
        }

        function updateCategoriesChart() {
            const ctx = document.getElementById('categories-chart').getContext('2d');
            
            if (categoriesChart) {
                categoriesChart.destroy();
            }
            
            // –î–µ–º–æ –¥–∞–Ω–Ω—ã–µ
            const data = {
                labels: ['–°—É–ø—ã', '–û—Å–Ω–æ–≤–Ω—ã–µ', '–°–∞–ª–∞—Ç—ã', '–ù–∞–ø–∏—Ç–∫–∏', '–î–µ—Å–µ—Ä—Ç—ã'],
                datasets: [{
                    data: [15, 30, 20, 25, 10],
                    backgroundColor: [
                        '#3498db',
                        '#2ecc71',
                        '#e74c3c',
                        '#f39c12',
                        '#9b59b6'
                    ]
                }]
            };
            
            categoriesChart = new Chart(ctx, {
                type: 'pie',
                data: data,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'right',
                        },
                        title: {
                            display: true,
                            text: '–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º'
                        }
                    }
                }
            });
        }

        function updateChart() {
            const period = document.getElementById('chart-period').value;
            // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –≥—Ä–∞—Ñ–∏–∫ –∑–∞–∫–∞–∑–æ–≤
        }

        // CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏
        function showAddCategoryModal() {
            document.getElementById('add-category-form').reset();
            const modal = new bootstrap.Modal(document.getElementById('addCategoryModal'));
            modal.show();
        }

        async function addCategory(e) {
            e.preventDefault();
            
            const name = document.getElementById('category-name').value;
            
            try {
                const response = await fetch('/api/v1/menu/categories', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ name })
                });
                
                if (response.ok) {
                    const category = await response.json();
                    adminData.categories.push(category);
                    
                    const modal = bootstrap.Modal.getInstance(document.getElementById('addCategoryModal'));
                    modal.hide();
                    
                    renderCategoriesTable();
                    showNotification('–ö–∞—Ç–µ–≥–æ—Ä–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ', 'success');
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:', error);
                showNotification('–û—à–∏–±–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏', 'error');
            }
        }

        async function deleteCategory(categoryId) {
            if (!confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç—É –∫–∞—Ç–µ–≥–æ—Ä–∏—é? –í—Å–µ –±–ª—é–¥–∞ –≤ –Ω–µ–π —Ç–∞–∫–∂–µ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã.')) {
                return;
            }
            
            try {
                const response = await fetch(`/api/v1/menu/categories/${categoryId}`, {
                    method: 'DELETE'
                });
                
                if (response.ok) {
                    adminData.categories = adminData.categories.filter(c => c.id !== categoryId);
                    adminData.dishes = adminData.dishes.filter(d => d.category_id !== categoryId);
                    
                    renderCategoriesTable();
                    renderDishesTable();
                    updateDashboardStats();
                    
                    showNotification('–ö–∞—Ç–µ–≥–æ—Ä–∏—è —É–¥–∞–ª–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ', 'success');
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:', error);
                showNotification('–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏', 'error');
            }
        }

        function showAddDishModal() {
            document.getElementById('add-dish-form').reset();
            
            // –ó–∞–ø–æ–ª–Ω—è–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
            const select = document.getElementById('dish-category');
            select.innerHTML = adminData.categories.map(category => 
                `<option value="${category.id}">${category.name}</option>`
            ).join('');
            
            const modal = new bootstrap.Modal(document.getElementById('addDishModal'));
            modal.show();
        }

        async function addDish(e) {
            e.preventDefault();
            
            const dishData = {
                name: document.getElementById('dish-name').value,
                category_id: document.getElementById('dish-category').value,
                price: parseFloat(document.getElementById('dish-price').value),
                description: document.getElementById('dish-description').value,
                is_available: document.getElementById('dish-status').value === 'true'
            };
            
            try {
                const response = await fetch('/api/v1/menu/dishes', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(dishData)
                });
                
                if (response.ok) {
                    const dish = await response.json();
                    adminData.dishes.push(dish);
                    
                    const modal = bootstrap.Modal.getInstance(document.getElementById('addDishModal'));
                    modal.hide();
                    
                    renderDishesTable();
                    updateDashboardStats();
                    showNotification('–ë–ª—é–¥–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ', 'success');
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –±–ª—é–¥–∞:', error);
                showNotification('–û—à–∏–±–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –±–ª—é–¥–∞', 'error');
            }
        }

        async function deleteDish(dishId) {
            if (!confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ –±–ª—é–¥–æ?')) {
                return;
            }
            
            try {
                const response = await fetch(`/api/v1/menu/dishes/${dishId}`, {
                    method: 'DELETE'
                });
                
                if (response.ok) {
                    adminData.dishes = adminData.dishes.filter(d => d.id !== dishId);
                    
                    renderDishesTable();
                    updateDashboardStats();
                    showNotification('–ë–ª—é–¥–æ —É–¥–∞–ª–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ', 'success');
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –±–ª—é–¥–∞:', error);
                showNotification('–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –±–ª—é–¥–∞', 'error');
            }
        }

        function editOrder(orderId) {
            const order = adminData.orders.find(o => o.id === orderId);
            if (!order) return;
            
            document.getElementById('edit-order-id').value = order.id;
            document.getElementById('edit-order-status').value = order.status;
            
            const modal = new bootstrap.Modal(document.getElementById('editOrderModal'));
            modal.show();
        }

        async function updateOrder(e) {
            e.preventDefault();
            
            const orderId = document.getElementById('edit-order-id').value;
            const status = document.getElementById('edit-order-status').value;
            
            try {
                const response = await fetch(`/api/v1/orders/${orderId}`, {
                    method: 'PUT',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ status })
                });
                
                if (response.ok) {
                    const updatedOrder = await response.json();
                    const index = adminData.orders.findIndex(o => o.id === orderId);
                    if (index !== -1) {
                        adminData.orders[index] = updatedOrder;
                    }
                    
                    const modal = bootstrap.Modal.getInstance(document.getElementById('editOrderModal'));
                    modal.hide();
                    
                    renderOrdersTable();
                    showNotification('–ó–∞–∫–∞–∑ –æ–±–Ω–æ–≤–ª–µ–Ω —É—Å–ø–µ—à–Ω–æ', 'success');
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞:', error);
                showNotification('–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞', 'error');
            }
        }

        async function deleteOrder(orderId) {
            if (!confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –∑–∞–∫–∞–∑?')) {
                return;
            }
            
            try {
                const response = await fetch(`/api/v1/orders/${orderId}`, {
                    method: 'DELETE'
                });
                
                if (response.ok) {
                    adminData.orders = adminData.orders.filter(o => o.id !== orderId);
                    
                    renderOrdersTable();
                    updateDashboardStats();
                    showNotification('–ó–∞–∫–∞–∑ —É–¥–∞–ª–µ–Ω —É—Å–ø–µ—à–Ω–æ', 'success');
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞:', error);
                showNotification('–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞', 'error');
            }
        }

        // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
        function generateReport() {
            alert('–§—É–Ω–∫—Ü–∏—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –æ—Ç—á–µ—Ç–∞ –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ —Å–ª–µ–¥—É—é—â–µ–π –≤–µ—Ä—Å–∏–∏');
        }

        function showNotification(message, type = 'info') {
            // –°–æ–∑–¥–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 15px 20px;
                border-radius: 8px;
                color: white;
                font-weight: bold;
                z-index: 10000;
                animation: slideIn 0.3s;
            `;
            
            if (type === 'success') {
                notification.style.background = '#27ae60';
            } else if (type === 'error') {
                notification.style.background = '#e74c3c';
            } else {
                notification.style.background = '#3498db';
            }
            
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        // –î–æ–±–∞–≤–ª—è–µ–º –∞–Ω–∏–º–∞—Ü–∏–∏
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
